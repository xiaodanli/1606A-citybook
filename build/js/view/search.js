"use strict";define(["jquery","render","get","text!labelTpl"],function(i,c,r,t){i("body").append(t);return function(n){console.log(n.api.hotkey);var o=i(".result-list");r(n.api.hotkey).then(function(t){console.log(t);var e=JSON.parse(t);1===e.code&&c("#label-tpl",e.data.ads,".hot-key")}).catch(function(t){console.warn(t)}),i(".search-btn").on("click",function(){var t=i(".ipt").val();t?e(t):alert("输入内容为空")});var a=window.localStorage,l=JSON.parse(a.getItem("history"))||[];function e(e){var t=n.api.search+"?key="+e;l.some(function(t){return t.ad_name==e})||(l.push({ad_name:e}),a.setItem("history",JSON.stringify(l)),c("#label-tpl",l,".history-key")),i(".keys").hide(),r(t).then(function(t){console.log(t);var e=JSON.parse(t);1===e.code&&e.data.length?c("#result-tpl",e.data,".result-list"):1!==e.code||e.data.length||o.html("<p>没有匹配的内容</p>"),o.show()}).catch(function(t){console.warn(t)})}l.length&&c("#label-tpl",l,".history-key"),i(".ipt").on("input",function(){i(this).val()||(i(".keys").show(),o.hide())}),i(".keys").on("click","li",function(){var t=i(this).html();i(".ipt").val(t),e(t)}),i(".icon-back").on("click",function(){location.href="/"})}});